<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="theme-color" content="#05324d" />

    <title>Europa League Draw | DC Coding</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Roboto+Mono:ital,wght@0,400;0,700;1,400;1,700&family=Rubik:ital,wght@0,400;0,700;1,400;1,700&family=Trirong:ital,wght@0,400;0,700;0,900;1,400;1,700;1,900&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="/assets/css/main.css" />
    <link rel="stylesheet" href="/assets/css/code.css" />

    <link
      rel="alternate"
      type="application/rss+xml"
      title="RSS Feed for DC Coding"
      href="/Feed/"
    />
  </head>

  <body class="flex min-h-screen flex-col bg-gray-100">
    <nav class="bg-gray-800">
      <div class="container flex flex-row justify-center px-6">
        
        <a
          class="px-4 py-2 text-lg text-gray-100 hover:bg-gray-700 hover:underline"
          href="/"
          >Home</a
        >
        
        <a
          class="px-4 py-2 text-lg text-gray-100 hover:bg-gray-700 hover:underline"
          href="/Archive"
          >Archive</a
        >
        
        <a
          class="px-4 py-2 text-lg text-gray-100 hover:bg-gray-700 hover:underline"
          href="/About"
          >About</a
        >
        
      </div>
    </nav>

    
 <div class="bg-blue-800">
  <div class="container py-8">
    <h1 class="font-title text-6xl font-bold italic text-gray-50">
      Europa League Draw
    </h1>
    
    <p class="mt-2 text-lg text-gray-200">28 February 2020</p>
    
  </div>
</div>


<div class="container py-6">
  <p class="mb-6 text-3xl italic text-gray-500">What is the chance of two British teams meeting in the Europa League last 16?</p>

  <article class="prose"><p>Yesterday evening I was watching <a href="https://www.bbc.co.uk/sport/football/51623263">Arsenal play Olympiakos in the UEFA Europa
League</a>. Part way through the
first half, the commentator mentioned that five British teams might win their
matches and make it through to the last 16. He then went on to say that, if this
were to occur, there would be a more than 50-50 chance of two British teams
facing each other in the next round.</p>
<p>Now, <a href="https://www.youtube.com/watch?v=rZG0DX0U0Bs">Peter Drury is an excellent
commentator</a>, but I have no way of
rating his abilities as a mathematician, so I thought I'd verify this for
myself. At the very least it gave me something to do during half-time!</p>
<p>There are two ways of calculating the probability: we can calculate it
mathematically or we can use a computer to simulate the draw. Let's try both ...</p>
<h2>Maths</h2>
<p>First off, a quick equation that will prove useful later on. Suppose we have
\(2n\) teams which need to be drawn into \(n\) fixtures. How many distinct
possible sets of fixtures are there?</p>
<p>Well, there are \((2n)!\) orders in which the teams can be pulled out of the
hat, each of which gives us a fixture list by pairing off teams as they are
drawn. But for a given draw order we can we can swap the teams within each pair
(\(2^n\) ways) and permute the pairs (\(n!\) ways), and it will give us the same
fixture list.</p>
<p>So there are \((2n)!/(2^n \times n!)\) distinct fixture lists.</p>
<p>Let's apply this to the Europa League draw. There are 8 fixtures, so \(16!/(2^8
\times 8!)\) distinct sets of fixtures. Of these, how many <strong>don't</strong> result in
an all-British tie?</p>
<p>Each of the British teams would need a non-British team to play against; there
are \(11 \times 10 \times 9 \times 8 \times 7\) ways of choosing these. Then
there are 3 fixtures involving the remaining 6 non-British teams; there are
\(6!/(2^3 \times 3!)\) ways of choosing these (using our equation from earlier).</p>
<p>This comes out as \(11!/(2^3 \times 3!)\) distinct sets of fixtures with no
all-British ties.</p>
<p>Dividing one by the other and cancelling (I had a lot of crossing out to do),
the probability of no all-British ties comes out as \(16/39 = 41.03%\) (or a
<strong>58.97%</strong> chance of at least one match between two British teams).</p>
<h2><a href="https://youtu.be/__G4RrlGmVk?t=71">Simulation</a></h2>
<p>I did <a href="/posts/2019-03-14-champions-league-draw">something similar during last year's Champions League</a>, and so I've modified the code from last
time <a href="https://github.com/djcarter85/ChampionsLeagueDraw/tree/europa-league-draw">on a separate
branch</a>.</p>
<p>The results are as follows:</p>
<pre><code>Simulating 100,000,000 fixture lists ...
Fixture lists with 0 all-British matches: 41,024,061 (41.02%)
Fixture lists with 1 all-British match: 51,282,524 (51.28%)
Fixture lists with 2 all-British matches: 7,693,415 (7.69%)
</code></pre>
<p>This gives us a <strong>58.98%</strong> chance of at least one all-British tie.</p>
<h2>Conclusion</h2>
<p>So what is the probability of two British teams meeting in the Europa League?
The maths says <strong>58.97%</strong>; my computer says <strong>58.98%</strong>.</p>
<p>Firstly, it's nice to see the two line up (within a small error). But secondly,
it turns out the hypothesis was true! It would have been more likely than not
(with odds of about 3 to 2) for two British teams to meet in the last 16.</p>
<p>Alas, despite Peter Drury's optimism, only three British teams made it through
(unfortunately not including my beloved Arsenal ðŸ˜¢). The probability of <a href="https://www.bbc.co.uk/sport/football/51674681">today's
draw</a> actually having contained
an all-British tie is left as an exercise for the reader!</p>
</article>
</div>

<div class="container py-6">
  <script
    src="https://utteranc.es/client.js"
    repo="djcarter85/codingblog"
    issue-term="url"
    label="comments"
    theme="github-light"
    crossorigin="anonymous"
    async
  ></script>
</div>


    <footer class="footer mt-auto bg-blue-800 py-4 text-gray-50">
      <div class="container flex flex-col gap-2">
        <div class="flex flex-row justify-center gap-4">
          
          <a
            class="rounded-lg p-2 hover:bg-blue-500"
            href="https://github.com/djcarter85"
            title="GitHub"
          >
            <i class="fab fa-github fa-2x"></i>
          </a>
          
          <a
            class="rounded-lg p-2 hover:bg-blue-500"
            href="/Feed/"
            title="RSS"
          >
            <i class="fa fa-rss fa-2x"></i>
          </a>
          
        </div>
        <div class="text-center">
          &copy; Dan Carter 2023
        </div>
      </div>
    </footer>

    <!-- JS -->
    <script
      defer
      src="https://use.fontawesome.com/releases/v5.6.3/js/all.js"
      integrity="sha384-EIHISlAOj4zgYieurP0SdoiBYfGJKkgWedPHH4jCzpCXLmzVsw1ouK59MuUtP4a1"
      crossorigin="anonymous"
    ></script>

    <script
      type="text/javascript"
      async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"
    ></script>
  </body>
</html>
